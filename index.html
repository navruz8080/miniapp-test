<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Drop SuperApp</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root { --bg: #F5F7FA; --card: #FFFFFF; --text: #1C1C1E; --sec: #8E8E93; --accent: #007AFF; --accent-bg: rgba(0,122,255,0.1); --rad: 18px; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        .container { padding: 16px; max-width: 480px; margin: 0 auto; padding-bottom: 100px; }
        
        /* HEADER */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-top: 10px; }
        .user { display: flex; align-items: center; gap: 12px; }
        .ava { width: 48px; height: 48px; border-radius: 50%; background: #ddd; object-fit: cover; }
        .lvl { background: #FFD60A; color: #000; padding: 2px 8px; border-radius: 12px; font-size: 10px; font-weight: 800; text-transform: uppercase; margin-left: 6px; }

        /* BONUS CARD */
        .bonus { background: linear-gradient(135deg, #2C2C2E 0%, #1C1C1E 100%); border-radius: 24px; padding: 24px; color: #fff; margin-bottom: 24px; position: relative; overflow: hidden; box-shadow: 0 8px 20px rgba(0,0,0,0.15); }
        .bonus-val { font-size: 34px; font-weight: 800; margin: 5px 0; }
        .bonus-btns { display: flex; gap: 10px; margin-top: 15px; }
        .b-btn { background: rgba(255,255,255,0.15); border: none; color: white; padding: 8px 16px; border-radius: 12px; font-size: 12px; font-weight: 600; cursor: pointer; backdrop-filter: blur(5px); }

        /* MENU */
        .menu { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 25px; }
        .m-item { display: flex; flex-direction: column; align-items: center; gap: 6px; cursor: pointer; }
        .m-icon { width: 56px; height: 56px; background: var(--card); border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 22px; color: var(--accent); box-shadow: 0 4px 12px rgba(0,0,0,0.04); }
        .m-lbl { font-size: 11px; font-weight: 600; }

        /* CARDS & UI */
        .card { background: var(--card); border-radius: var(--rad); padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.03); }
        .btn { width: 100%; padding: 15px; border-radius: 14px; border: none; background: var(--text); color: #fff; font-weight: 700; font-size: 15px; cursor: pointer; }
        .btn-acc { background: var(--accent); }
        input, select { width: 100%; padding: 14px; background: var(--bg); border: none; border-radius: 12px; margin-bottom: 10px; font-family: 'Inter'; box-sizing: border-box; font-size: 15px; }

        /* ADDRESS BOX (FIXED OVERLAP) */
        .addr-box { background: #F2F4F7; border-radius: 14px; padding: 14px; padding-right: 50px; /* Space for button */ position: relative; cursor: pointer; border: 1px solid transparent; }
        .addr-box:active { border-color: var(--accent); background: #EBF2FF; }
        .copy-btn { position: absolute; top: 50%; transform: translateY(-50%); right: 10px; width: 32px; height: 32px; background: #fff; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: var(--accent); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

        /* TABS (IOS STYLE) */
        .tabs { background: #E5E5EA; padding: 4px; border-radius: 14px; display: flex; margin-bottom: 15px; }
        .tab { flex: 1; padding: 10px; text-align: center; font-size: 13px; font-weight: 600; border-radius: 10px; cursor: pointer; color: #8E8E93; transition: 0.2s; }
        .tab.active { background: #fff; color: #000; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }

        /* TOGGLE */
        .switch-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .switch { position: relative; display: inline-block; width: 44px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; border-radius: 34px; transition: .3s; }
        .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 2px; bottom: 2px; background-color: white; border-radius: 50%; transition: .3s; }
        input:checked + .slider { background-color: var(--accent); }
        input:checked + .slider:before { transform: translateX(20px); }

        /* SCREENS */
        .screen { display: none; padding-bottom: 80px; animation: fade 0.2s; }
        .screen.active { display: block; }
        @keyframes fade { from{opacity:0; transform:translateY(5px);} to{opacity:1; transform:translateY(0);} }
        .sub-head { display: flex; align-items: center; gap: 15px; padding: 10px 0 20px 0; }
        .back { font-size: 20px; cursor: pointer; padding: 5px; }
        .pg-title { font-size: 18px; font-weight: 700; }

        /* MODALS */
        .overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:999; display:none; align-items:flex-end; }
        .sheet { background:#fff; width:100%; border-radius:24px 24px 0 0; padding:24px; animation: slideUp 0.3s; }
        @keyframes slideUp { from{transform:translateY(100%)} to{transform:translateY(0)} }
    </style>
</head>
<body>

    <div id="scr-home" class="screen active container">
        <div class="header">
            <div class="user">
                <img id="u-ava" class="ava" src="">
                <div>
                    <div style="display:flex; align-items:center;">
                        <h3 id="u-name">...</h3>
                        <span id="u-lvl" class="lvl">...</span>
                    </div>
                    <div style="font-size:12px; color:var(--sec);">ID: <span id="u-id">...</span></div>
                </div>
            </div>
            <div onclick="nav('settings')" style="font-size:20px; color:#555;"><i class="fa-solid fa-gear"></i></div>
        </div>

        <div class="bonus">
            <div style="opacity:0.7; font-size:12px; text-transform:uppercase; font-weight:600;">–ë–æ–Ω—É—Å–Ω—ã–π –±–∞–ª–∞–Ω—Å</div>
            <div class="bonus-val"><span id="u-bonus">0.0</span> <span style="font-size:16px;">–∫–≥</span></div>
            <div class="bonus-btns">
                <button class="b-btn" onclick="nav('rewards')">üî• –ó–∞–¥–∞–Ω–∏—è</button>
            </div>
        </div>

        <div style="font-weight:700; margin-bottom:15px;">–°–µ—Ä–≤–∏—Å—ã</div>
        <div class="menu">
            <div class="m-item" onclick="nav('china')"><div class="m-icon" style="color:#FF2D55;"><i class="fa-brands fa-dhl"></i></div><span class="m-lbl">–ö–∏—Ç–∞–π</span></div>
            <div class="m-item" onclick="nav('trucks')"><div class="m-icon" style="color:#5856D6;"><i class="fa-solid fa-truck-fast"></i></div><span class="m-lbl">–ë–∏—Ä–∂–∞</span></div>
            <div class="m-item" onclick="nav('market')"><div class="m-icon" style="color:#FF9500;"><i class="fa-solid fa-bag-shopping"></i></div><span class="m-lbl">–ú–∞—Ä–∫–µ—Ç</span></div>
            <div class="m-item" onclick="nav('calc')"><div class="m-icon" style="color:#007AFF;"><i class="fa-solid fa-calculator"></i></div><span class="m-lbl">–†–∞—Å—á–µ—Ç</span></div>
        </div>

        <div style="font-weight:700; margin-bottom:10px;">–ú–æ–∏ –ø–æ—Å—ã–ª–∫–∏</div>
        <div id="list-pkgs"></div>
    </div>

    <div id="scr-rewards" class="screen container">
        <div class="sub-head"><div class="back" onclick="back()"><i class="fa-solid fa-arrow-left"></i></div><div class="pg-title">–ó–∞–¥–∞–Ω–∏—è</div></div>
        <div id="list-tasks"></div>
    </div>

    <div id="scr-china" class="screen container">
        <div class="sub-head"><div class="back" onclick="back()"><i class="fa-solid fa-arrow-left"></i></div><div class="pg-title">–ú–æ–π –ö–∏—Ç–∞–π</div></div>
        
        <div class="card">
            <div class="switch-row">
                <b>–û–ø—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (>100 –∫–≥)</b>
                <label class="switch"><input type="checkbox" id="tg-opt" onchange="toggleMode()"><span class="slider"></span></label>
            </div>
        </div>

        <div class="card">
            <div style="font-weight:600; margin-bottom:10px;">–ê–¥—Ä–µ—Å —Å–∫–ª–∞–¥–∞</div>
            <div id="box-city" style="display:none; margin-bottom:10px;">
                <select id="sel-city" onchange="renderAddr()"><option value="yiwu">–ò—É (Yiwu)</option><option value="urumqi">–£—Ä—É–º—á–∏</option></select>
            </div>
            <div class="addr-box" onclick="copy('txt-addr')">
                <div id="txt-addr" style="font-family:'JetBrains Mono'; font-size:13px; line-height:1.4;">...</div>
                <div class="copy-btn"><i class="fa-regular fa-copy"></i></div>
            </div>
        </div>

        <div id="box-code" class="card">
            <div style="font-weight:600; margin-bottom:10px;">–í–∞—à –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞</div>
            <div class="addr-box" onclick="copy('txt-code')">
                <div id="txt-code" style="font-family:'JetBrains Mono'; font-weight:700; color:var(--accent);">...</div>
                <div class="copy-btn"><i class="fa-regular fa-copy"></i></div>
            </div>
        </div>

        <button class="btn btn-acc" onclick="openM('m-add')">–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–∫</button>
    </div>

    <div id="scr-calc" class="screen container">
        <div class="sub-head"><div class="back" onclick="back()"><i class="fa-solid fa-arrow-left"></i></div><div class="pg-title">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div></div>
        
        <div class="card">
            <div class="switch-row">
                <b>–†–µ–∂–∏–º —Ä–∞—Å—á–µ—Ç–∞</b>
                <label class="switch"><input type="checkbox" id="tg-calc" onchange="toggleMode()"><span class="slider"></span></label>
            </div>
            <div style="font-size:11px; color:var(--sec); margin-bottom:15px; text-align:right;" id="lbl-calc">–†–æ–∑–Ω–∏—Ü–∞</div>

            <div id="box-calc-opt" style="display:none;">
                <label style="font-size:12px;font-weight:600;">–ú–∞—Ä—à—Ä—É—Ç</label>
                <select id="sel-route"><option>–ó–∞–≥—Ä—É–∑–∫–∞...</option></select>
                <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:8px;">
                    <input id="c-l" type="number" placeholder="–î–ª"><input id="c-w" type="number" placeholder="–®–∏—Ä"><input id="c-h" type="number" placeholder="–í—ã—Å">
                </div>
            </div>

            <label style="font-size:12px;font-weight:600;">–í–µ—Å (–∫–≥)</label>
            <input id="c-wg" type="number" placeholder="0.0">
            <label style="font-size:12px;font-weight:600;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç</label>
            <input id="c-qt" type="number" value="1">

            <div id="c-res" style="text-align:center; font-size:28px; font-weight:800; margin:20px 0; color:var(--accent);">0.00</div>
            <button class="btn" onclick="doCalc()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
        </div>
    </div>

    <div id="scr-trucks" class="screen container">
        <div class="sub-head"><div class="back" onclick="back()"><i class="fa-solid fa-arrow-left"></i></div><div class="pg-title">–ë–∏—Ä–∂–∞</div></div>
        <div class="tabs">
            <div id="tab-tr-1" class="tab active" onclick="swTr('trips')">–î–æ—Å—Ç–∞–≤–∏—Ç—å</div>
            <div id="tab-tr-2" class="tab" onclick="swTr('cargo')">–Ø –≤–æ–¥–∏—Ç–µ–ª—å</div>
        </div>
        <div id="list-trucks"></div>
        <button id="btn-tr-act" class="btn btn-acc" style="position:fixed; bottom:20px; width:calc(100% - 32px); left:16px;" onclick="trAct()">–î–µ–π—Å—Ç–≤–∏–µ</button>
    </div>

    <div id="scr-market" class="screen container">
        <div class="sub-head"><div class="back" onclick="back()"><i class="fa-solid fa-arrow-left"></i></div><div class="pg-title">–ú–∞—Ä–∫–µ—Ç</div></div>
        <div id="list-market"></div>
    </div>

    <div id="scr-settings" class="screen container">
        <div class="sub-head"><div class="back" onclick="back()"><i class="fa-solid fa-arrow-left"></i></div><div class="pg-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div></div>
        <div class="card">
            <label style="font-size:12px;">–ò–º—è</label><input id="s-name">
            <label style="font-size:12px;">–¢–µ–ª–µ—Ñ–æ–Ω</label><input id="s-phone">
            <label style="font-size:12px;">–ü–í–ó</label><select id="s-pvz"><option>–ù–µ –≤—ã–±—Ä–∞–Ω</option><option>–î—É—à–∞–Ω–±–µ</option><option>–•—É–¥–∂–∞–Ω–¥</option></select>
            <button class="btn btn-acc" onclick="saveSet()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
    </div>

    <div id="m-add" class="overlay"><div class="sheet"><h3>–¢—Ä–µ–∫</h3><input id="n-t" placeholder="–ù–æ–º–µ—Ä"><input id="n-d" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"><button class="btn btn-acc" onclick="subTrack()">–î–æ–±–∞–≤–∏—Ç—å</button><div style="text-align:center;padding:15px;color:#999" onclick="closeM('m-add')">–ó–∞–∫—Ä—ã—Ç—å</div></div></div>
    <div id="m-cargo" class="overlay"><div class="sheet"><h3>–ì—Ä—É–∑</h3><input id="cg-f" placeholder="–û—Ç–∫—É–¥–∞"><input id="cg-t" placeholder="–ö—É–¥–∞"><input id="cg-d" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"><input id="cg-w" placeholder="–í–µ—Å"><input id="cg-p" placeholder="–¶–µ–Ω–∞"><button class="btn btn-acc" onclick="subCargo()">–°–æ–∑–¥–∞—Ç—å</button><div style="text-align:center;padding:15px;" onclick="closeM('m-cargo')">–ó–∞–∫—Ä—ã—Ç—å</div></div></div>

    <script>
        const tg = window.Telegram.WebApp; tg.expand();
        const API = "https://unforeshortened-interartistic-judith.ngrok-free.dev"; // ‚ö†Ô∏è URL
        const uid = tg.initDataUnsafe?.user?.id || 317295540;
        
        let d={}, isOpt=false, tabTr='trips';

        async function init() {
            try {
                document.getElementById('u-ava').src = tg.initDataUnsafe?.user?.photo_url || "";
                let res = await fetch(`${API}/api/dashboard/${uid}`, {headers:{'ngrok-skip-browser-warning':'true'}});
                d = await res.json();
                
                // UI
                gid('u-name').innerText = d.user_info.name || "Client";
                gid('u-id').innerText = uid;
                gid('u-lvl').innerText = d.user_info.level;
                gid('u-bonus').innerText = d.user_info.bonus_kg;
                gid('txt-code').innerText = d.user_info.marking_code;
                
                // Settings
                gid('s-name').value = d.user_info.name;
                gid('s-phone').value = d.user_info.marking_code.split('/').pop().trim();
                
                // Pkgs
                let h=''; d.packages.forEach(p=>h+=`<div class="card" style="padding:12px;"><div style="font-weight:700">${p.description}</div><div style="font-size:12px;color:#888">${p.track_number} ‚Ä¢ ${p.status_text}</div></div>`);
                gid('list-pkgs').innerHTML = h || '<div style="text-align:center;color:#999;padding:20px;">–ü—É—Å—Ç–æ</div>';

                // Routes
                let rr = await fetch(`${API}/api/get_routes`); let rd = await rr.json();
                let s = gid('sel-route'); s.innerHTML='<option>–í—ã–±–µ—Ä–∏—Ç–µ...</option>';
                rd.routes.forEach(r=>{let o=document.createElement('option'); o.value=r; o.innerText=r; s.appendChild(o)});

                isOpt = (d.user_info.category === 'more_100');
                updMode();

            } catch(e){console.error(e)}
        }

        // --- NAV ---
        function nav(s){ gid('scr-home').classList.remove('active'); gid('scr-'+s).style.display='block'; setTimeout(()=>gid('scr-'+s).classList.add('active'),10); if(s==='trucks') ldTr(); if(s==='rewards') ldRew(); if(s==='market') ldMark(); }
        function back(){ document.querySelectorAll('.screen').forEach(s=>{s.classList.remove('active'); setTimeout(()=>s.style.display='none',200)}); gid('scr-home').classList.add('active'); }
        
        // --- MODE ---
        function toggleMode(){
            // Check who triggered
            if(gid('scr-calc').classList.contains('active')) isOpt=gid('tg-calc').checked;
            else isOpt=gid('tg-opt').checked;
            
            updMode();
            fetch(`${API}/api/update_settings`, {method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:uid, category:isOpt?'more_100':'less_100'})});
        }
        function updMode(){
            gid('tg-opt').checked=isOpt; gid('tg-calc').checked=isOpt;
            gid('lbl-calc').innerText = isOpt ? "–û–ø—Ç" : "–†–æ–∑–Ω–∏—Ü–∞";
            
            gid('box-city').style.display=isOpt?'block':'none';
            gid('box-code').style.display=isOpt?'none':'block';
            gid('box-calc-opt').style.display=isOpt?'block':'none';
            renderAddr();
        }
        function renderAddr(){
            let t=gid('txt-addr');
            if(isOpt) {
                let c = gid('sel-city').value;
                t.innerText = d.app_config.warehouses.wholesale[c]?.address || "–ê–¥—Ä–µ—Å...";
            } else {
                t.innerText = d.app_config.warehouses.retail.address || "–ê–¥—Ä–µ—Å...";
            }
        }

        // --- TRUCKS ---
        function swTr(t){
            tabTr=t;
            gid('tab-tr-1').className = t==='trips'?'tab active':'tab';
            gid('tab-tr-2').className = t==='cargo'?'tab active':'tab';
            
            let b=gid('btn-tr-act');
            if(t==='trips') { b.innerText="üì¶ –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–∑"; b.onclick=()=>openM('m-cargo'); }
            else { b.innerText="üöö –°–æ–∑–¥–∞—Ç—å —Ä–µ–π—Å (–í–æ–¥–∏—Ç–µ–ª—å)"; b.onclick=()=>tg.showAlert("–¢–æ–ª—å–∫–æ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π"); }
            ldTr();
        }
        async function ldTr(){
            let c=gid('list-trucks'); c.innerHTML='–ó–∞–≥—Ä—É–∑–∫–∞...';
            let r=await fetch(`${API}/api/trucking/list?type=${tabTr}`);
            let dt=await r.json(); c.innerHTML='';
            dt.items.forEach(i=>c.innerHTML+=`<div class="card"><b>${i.title}</b><br><span style="font-size:12px;color:#888">${i.subtitle}</span><div style="margin-top:5px;font-weight:700;color:var(--accent)">${i.details}</div></div>`);
        }

        // --- MARKET ---
        async function ldMark(){
            let c=gid('list-market'); c.innerHTML='–ó–∞–≥—Ä—É–∑–∫–∞...';
            let r=await fetch(`${API}/api/market/list`); let dt=await r.json(); c.innerHTML='';
            dt.items.forEach(i=>c.innerHTML+=`<div class="card" style="display:flex;gap:10px;"><img src="${i.image_url}" style="width:60px;height:60px;border-radius:10px;object-fit:cover;"><div><b>${i.title}</b><div style="font-weight:700;color:#FF9500">${i.price} TJS</div></div></div>`);
        }

        // --- REWARDS ---
        async function ldRew(){
            let c=gid('list-tasks'); c.innerHTML='–ó–∞–≥—Ä—É–∑–∫–∞...';
            let r=await fetch(`${API}/api/rewards/list/${uid}`); let dt=await r.json(); c.innerHTML='';
            dt.tasks.forEach(t=>c.innerHTML+=`<div class="card" style="display:flex;align-items:center;gap:15px;"><div style="font-size:24px;color:var(--accent)"><i class="fa-solid ${t.icon}"></i></div><div style="flex:1"><b>${t.title}</b><div style="font-size:11px;color:#888">${t.desc}</div></div><button class="btn btn-acc" style="width:auto;padding:8px 12px;font-size:12px;" onclick="claim(${t.id})">+${t.reward}–∫–≥</button></div>`);
        }
        async function claim(id){
            let r=await fetch(`${API}/api/rewards/claim`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:uid,task_id:id})});
            let j=await r.json(); tg.showAlert(j.message); if(j.status==='ok') init();
        }

        // --- ACTIONS ---
        async function doCalc(){
            let p={user_id:uid, category:isOpt?'more_100':'less_100', weight_per_item:parseFloat(gid('c-wg').value), quantity:1};
            if(isOpt) {
                let v=gid('sel-route').value; if(!v.includes('-')) return tg.showAlert("–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç");
                p.route_from=v.split(' - ')[0]; p.route_to=v.split(' - ')[1].split(' ')[0];
                p.length=parseFloat(gid('c-l').value); p.width=parseFloat(gid('c-w').value); p.height=parseFloat(gid('c-h').value);
            }
            let r=await fetch(`${API}/api/calculate`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(p)});
            let j=await r.json(); gid('c-res').innerText=j.status==='ok'?`${j.price} ${j.currency}`:"–û—à–∏–±–∫–∞";
        }
        async function subTrack(){
            await fetch(`${API}/api/add_track`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:uid,track_number:gid('n-t').value,description:gid('n-d').value})});
            closeM('m-add'); init();
        }
        async function subCargo(){
            await fetch(`${API}/api/trucking/create_cargo`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:uid,city_from:gid('cg-f').value,city_to:gid('cg-t').value,description:gid('cg-d').value,weight:parseFloat(gid('cg-w').value),price_offer:parseFloat(gid('cg-p').value)})});
            closeM('m-cargo'); swTr('trips');
        }
        async function saveSet(){
            await fetch(`${API}/api/update_settings`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:uid,full_name:gid('s-name').value,phone:gid('s-phone').value,pvz:gid('s-pvz').value})});
            init(); back();
        }

        function gid(id){return document.getElementById(id)}
        function openM(id){gid(id).style.display='flex'}
        function closeM(id){gid(id).style.display='none'}
        function copy(id){navigator.clipboard.writeText(gid(id).innerText); tg.HapticFeedback.notificationOccurred('success'); tg.showAlert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ");}

        init();
    </script>
</body>
</html>
